
echo $1
/tmp/clevor/tests

mkdir $1 || exit 1
cd $1

nix build git+https://git.lix.systems/lix-project/lix?rev=f31e8e2b55419c7f250f29ae6fbc59be4a4c259e -o lix >& /dev/null || exit 1
nix build github:NixOS/nix/b0431a76f5645c43a60137401b76c22ba1710e1e -o nix >& /dev/null || exit 1
# narz fails in f790364c93142affa3cc699365545d6a11916a76
nix build git+https://git.sr.ht/~watersucks/narz?rev=760736b98e08c7c741838f5ad020d6d2e33b5e57 -o narz >& /dev/null || exit 1
nix build github:myclevorname/narser/b1dcf42285078137e0da5ded316039f81293a479 -o narser >& /dev/null || exit 1
nix build gitlab:abstract-binary/nix-nar-rs/c8d9250b9be837abafa0046cb9c2a852b846da6a -o nix-nar >& /dev/null || exit 1

git clone https://github.com/torvalds/linux --depth=1 -q
cd linux
git log | head
commit 449c2b302c8e200558619821ced46cc13cdb9aa6
Author: Linus Torvalds <torvalds@linux-foundation.org>
Date:   Mon Sep 29 11:55:15 2025 -0700

    Merge tag 'vfs-6.18-rc1.async' of git://git.kernel.org/pub/scm/linux/kernel/git/vfs/vfs
    
    Pull vfs async directory updates from Christian Brauner:
     "This contains further preparatory changes for the asynchronous directory
      locking scheme:
    
cd ..

nix nar pack linux > linux.nar

cmp <(./nix/bin/nix nar pack linux) <(./lix/bin/nix nar dump-path linux)
cmp <(./nix/bin/nix nar pack linux) <(./narser/bin/narser pack linux) || exit 1
cmp <(./nix/bin/nix nar pack linux) <(./nix-nar/bin/nix-nar dump-path linux)

cmp <(./nix/bin/nix nar cat linux.nar /README) <(./lix/bin/nix nar cat linux.nar /README)
cmp <(./nix/bin/nix nar cat linux.nar /README) <(./narser/bin/narser cat linux.nar /README) || exit 1
cmp <(./nix/bin/nix nar cat linux.nar /README) <(./narz/bin/narz cat linux.nar /README)
cmp <(./nix/bin/nix nar cat linux.nar /README) <(./nix-nar/bin/nix-nar cat linux.nar /README)

cmp <(./nix/bin/nix nar ls linux.nar /) <(./lix/bin/nix nar ls linux.nar /)
cmp <(./nix/bin/nix nar ls linux.nar /) <(./narser/bin/narser ls linux.nar /) || exit 1
cmp <(./nix/bin/nix nar ls linux.nar / 2> /dev/null) <(./narz/bin/narz ls linux.nar / 2> /dev/null)
/dev/fd/63 /dev/fd/62 differ: byte 1, line 1
cmp <(./nix/bin/nix nar ls linux.nar /) <(./nix-nar/bin/nix-nar ls linux.nar /)

cmp <(./nix/bin/nix nar ls linux.nar / -l) <(./lix/bin/nix nar ls linux.nar / -l)
cmp <(./nix/bin/nix nar ls linux.nar / -l) <(./narser/bin/narser ls linux.nar / -l) || exit 1
cmp <(./nix/bin/nix nar ls linux.nar / -l 2> /dev/null) <(./narz/bin/narz ls linux.nar / -l 2> /dev/null)
/dev/fd/63 /dev/fd/62 differ: byte 1, line 1
cmp <(./nix/bin/nix nar ls linux.nar / -l) <(./nix-nar/bin/nix-nar ls linux.nar / -l)

cmp <(./nix/bin/nix nar ls linux.nar / -lR) <(./lix/bin/nix nar ls linux.nar / -lR)
cmp <(./nix/bin/nix nar ls linux.nar / -lR) <(./narser/bin/narser ls linux.nar / -lR) || exit 1
cmp <(./nix/bin/nix nar ls linux.nar / -lR 2> /dev/null) <(./narz/bin/narz ls linux.nar / -lr 2> /dev/null)
/dev/fd/63 /dev/fd/62 differ: byte 3, line 1
cmp <(./nix/bin/nix nar ls linux.nar / -lR) <(./nix-nar/bin/nix-nar ls linux.nar / -lR)

cmp <(./nix/bin/nix nar ls linux.nar / -R) <(./lix/bin/nix nar ls linux.nar / -R)
cmp <(./nix/bin/nix nar ls linux.nar / -R) <(./narser/bin/narser ls linux.nar / -R) || exit 1
cmp <(./nix/bin/nix nar ls linux.nar / -R 2> /dev/null) <(./narz/bin/narz ls linux.nar / -r 2> /dev/null)
/dev/fd/63 /dev/fd/62 differ: byte 2, line 1
cmp <(./nix/bin/nix nar ls linux.nar / -R) <(./nix-nar/bin/nix-nar ls linux.nar / -R)


poop "./nix/bin/nix nar pack linux" "./lix/bin/nix nar dump-path linux" "./narser/bin/narser pack linux" "./nix-nar/bin/nix-nar dump-path linux"
Benchmark 1 (3 runs): ./nix/bin/nix nar pack linux
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time          1.85s  Â± 22.0ms                              1.83s  â€¦ 1.87s                                     0 ( 0%)        0%
  peak_rss           40.2MB Â±  177KB                              40.0MB â€¦ 40.3MB                                    0 ( 0%)        0%
  cpu_cycles         3.36G  Â± 33.0M                               3.34G  â€¦ 3.40G                                     0 ( 0%)        0%
  instructions       7.37G  Â± 77.4K                               7.37G  â€¦ 7.37G                                     0 ( 0%)        0%
  cache_references   49.8M  Â± 1.41M                               48.2M  â€¦ 50.9M                                     0 ( 0%)        0%
  cache_misses       4.40M  Â± 51.7K                               4.35M  â€¦ 4.45M                                     0 ( 0%)        0%
  branch_misses      8.85M  Â±  664K                               8.25M  â€¦ 9.56M                                     0 ( 0%)        0%
Benchmark 2 (5 runs): ./lix/bin/nix nar dump-path linux
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time          1.11s  Â± 5.02ms                              1.11s  â€¦ 1.12s                                     0 ( 0%)        âš¡- 39.7% Â±  1.3%
  peak_rss           33.3MB Â±  102KB                              33.1MB â€¦ 33.4MB                                    0 ( 0%)        âš¡- 17.2% Â±  0.6%
  cpu_cycles         1.28G  Â± 7.15M                               1.27G  â€¦ 1.29G                                     0 ( 0%)        âš¡- 62.0% Â±  1.1%
  instructions       1.81G  Â± 5.51K                               1.81G  â€¦ 1.81G                                     0 ( 0%)        âš¡- 75.4% Â±  0.0%
  cache_references   79.1M  Â± 2.39M                               75.8M  â€¦ 82.4M                                     0 ( 0%)        ðŸ’©+ 59.0% Â±  7.6%
  cache_misses        756K  Â± 48.3K                                716K  â€¦  840K                                     0 ( 0%)        âš¡- 82.8% Â±  2.0%
  branch_misses      3.33M  Â±  175K                               3.12M  â€¦ 3.60M                                     0 ( 0%)        âš¡- 62.4% Â±  8.3%
Benchmark 3 (8 runs): ./narser/bin/narser pack linux
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time           706ms Â± 1.25ms                               705ms â€¦  708ms                                    0 ( 0%)        âš¡- 61.7% Â±  0.9%
  peak_rss           1.28MB Â± 60.7KB                              1.18MB â€¦ 1.31MB                                    2 (25%)        âš¡- 96.8% Â±  0.4%
  cpu_cycles          186M  Â± 1.17M                                184M  â€¦  187M                                     0 ( 0%)        âš¡- 94.5% Â±  0.7%
  instructions        327M  Â± 4.87K                                327M  â€¦  327M                                     3 (38%)        âš¡- 95.6% Â±  0.0%
  cache_references   6.62M  Â±  498K                               5.94M  â€¦ 7.63M                                     0 ( 0%)        âš¡- 86.7% Â±  2.4%
  cache_misses        176K  Â± 9.39K                                159K  â€¦  187K                                     1 (13%)        âš¡- 96.0% Â±  0.9%
  branch_misses       725K  Â± 1.10K                                723K  â€¦  726K                                     0 ( 0%)        âš¡- 91.8% Â±  5.4%
Benchmark 4 (4 runs): ./nix-nar/bin/nix-nar dump-path linux
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time          1.54s  Â± 20.6ms                              1.53s  â€¦ 1.57s                                     0 ( 0%)        âš¡- 16.4% Â±  2.3%
  peak_rss           2.91MB Â±  112KB                              2.77MB â€¦ 3.04MB                                    0 ( 0%)        âš¡- 92.8% Â±  0.7%
  cpu_cycles          558M  Â± 20.9M                                541M  â€¦  588M                                     0 ( 0%)        âš¡- 83.4% Â±  1.5%
  instructions        829M  Â±  128K                                828M  â€¦  829M                                     1 (25%)        âš¡- 88.8% Â±  0.0%
  cache_references   11.4M  Â±  682K                               10.5M  â€¦ 12.1M                                     0 ( 0%)        âš¡- 77.1% Â±  4.1%
  cache_misses        404K  Â± 18.7K                                382K  â€¦  428K                                     0 ( 0%)        âš¡- 90.8% Â±  1.6%
  branch_misses      2.93M  Â±  135K                               2.79M  â€¦ 3.10M                                     0 ( 0%)        âš¡- 66.9% Â±  9.6%
poop "./nix/bin/nix nar ls linux.nar /" "./lix/bin/nix nar ls linux.nar /" "./narser/bin/narser ls linux.nar /" "./nix-nar/bin/nix-nar ls linux.nar /" "./narz/bin/narz ls linux.nar /"
Benchmark 1 (3 runs): ./nix/bin/nix nar ls linux.nar /
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time          2.46s  Â± 10.9ms                              2.45s  â€¦ 2.47s                                     0 ( 0%)        0%
  peak_rss           3.75GB Â± 60.3KB                              3.75GB â€¦ 3.75GB                                    0 ( 0%)        0%
  cpu_cycles         2.45G  Â± 14.8M                               2.44G  â€¦ 2.47G                                     0 ( 0%)        0%
  instructions       1.13G  Â±  373K                               1.13G  â€¦ 1.13G                                     0 ( 0%)        0%
  cache_references    125M  Â±  759K                                124M  â€¦  126M                                     0 ( 0%)        0%
  cache_misses       71.4M  Â± 50.6K                               71.3M  â€¦ 71.4M                                     0 ( 0%)        0%
  branch_misses      1.97M  Â±  247K                               1.81M  â€¦ 2.26M                                     0 ( 0%)        0%
Benchmark 2 (3 runs): ./lix/bin/nix nar ls linux.nar /
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time          2.58s  Â± 6.10ms                              2.57s  â€¦ 2.59s                                     0 ( 0%)        ðŸ’©+  5.0% Â±  0.8%
  peak_rss           3.73GB Â± 54.5KB                              3.73GB â€¦ 3.73GB                                    0 ( 0%)          -  0.4% Â±  0.0%
  cpu_cycles         2.90G  Â± 18.1M                               2.88G  â€¦ 2.91G                                     0 ( 0%)        ðŸ’©+ 18.3% Â±  1.5%
  instructions       2.16G  Â± 3.74K                               2.16G  â€¦ 2.16G                                     0 ( 0%)        ðŸ’©+ 91.6% Â±  0.1%
  cache_references    128M  Â±  488K                                127M  â€¦  128M                                     0 ( 0%)          +  2.0% Â±  1.2%
  cache_misses       70.4M  Â±  107K                               70.3M  â€¦ 70.5M                                     0 ( 0%)        âš¡-  1.3% Â±  0.3%
  branch_misses      4.26M  Â±  315K                               3.96M  â€¦ 4.58M                                     0 ( 0%)        ðŸ’©+115.8% Â± 32.5%
Benchmark 3 (51 runs): ./narser/bin/narser ls linux.nar /
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time          99.9ms Â±  418us                              99.4ms â€¦  101ms                                    1 ( 2%)        âš¡- 95.9% Â±  0.1%
  peak_rss           33.3MB Â± 31.1KB                              33.2MB â€¦ 33.3MB                                    3 ( 6%)        âš¡- 99.1% Â±  0.0%
  cpu_cycles         53.0M  Â±  616K                               52.5M  â€¦ 55.1M                                     5 (10%)        âš¡- 97.8% Â±  0.1%
  instructions       97.8M  Â±  180                                97.8M  â€¦ 97.8M                                     0 ( 0%)        âš¡- 91.3% Â±  0.0%
  cache_references    877K  Â± 16.0K                                853K  â€¦  930K                                     2 ( 4%)        âš¡- 99.3% Â±  0.1%
  cache_misses       11.4K  Â± 1.37K                               9.76K  â€¦ 16.4K                                     6 (12%)        âš¡-100.0% Â±  0.0%
  branch_misses       346K  Â± 5.81K                                342K  â€¦  369K                                     7 (14%)        âš¡- 82.5% Â±  2.9%
Benchmark 4 (10 runs): ./nix-nar/bin/nix-nar ls linux.nar /
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time           512ms Â± 2.91ms                               508ms â€¦  517ms                                    0 ( 0%)        âš¡- 79.2% Â±  0.3%
  peak_rss           2.40MB Â± 69.3KB                              2.28MB â€¦ 2.53MB                                    0 ( 0%)        âš¡- 99.9% Â±  0.0%
  cpu_cycles          938M  Â± 7.93M                                928M  â€¦  953M                                     0 ( 0%)        âš¡- 61.7% Â±  0.6%
  instructions       1.50G  Â± 60.0K                               1.50G  â€¦ 1.50G                                     0 ( 0%)        ðŸ’©+ 33.2% Â±  0.0%
  cache_references   6.23M  Â± 1.34M                               4.34M  â€¦ 8.21M                                     0 ( 0%)        âš¡- 95.0% Â±  1.5%
  cache_misses       61.5K  Â± 11.9K                               47.4K  â€¦ 83.3K                                     0 ( 0%)        âš¡- 99.9% Â±  0.0%
  branch_misses      1.15M  Â±  152K                               1.01M  â€¦ 1.51M                                     0 ( 0%)        âš¡- 41.7% Â± 12.7%
Benchmark 5 (3 runs): ./narz/bin/narz ls linux.nar /
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time          3.64s  Â± 2.56ms                              3.63s  â€¦ 3.64s                                     0 ( 0%)        ðŸ’©+ 47.9% Â±  0.7%
  peak_rss           1.84GB Â±    0                                1.84GB â€¦ 1.84GB                                    0 ( 0%)        âš¡- 51.0% Â±  0.0%
  cpu_cycles          873M  Â± 1.50M                                872M  â€¦  875M                                     0 ( 0%)        âš¡- 64.3% Â±  1.0%
  instructions        864M  Â±  159                                 864M  â€¦  864M                                     0 ( 0%)        âš¡- 23.5% Â±  0.1%
  cache_references   4.52M  Â±  126K                               4.44M  â€¦ 4.67M                                     0 ( 0%)        âš¡- 96.4% Â±  1.0%
  cache_misses        119K  Â± 9.93K                                112K  â€¦  130K                                     0 ( 0%)        âš¡- 99.8% Â±  0.1%
  branch_misses      1.82M  Â± 51.2K                               1.77M  â€¦ 1.86M                                     0 ( 0%)          -  7.5% Â± 20.5%
poop "./nix/bin/nix nar ls linux.nar / -R" "./lix/bin/nix nar ls linux.nar / -R" "./narser/bin/narser ls linux.nar / -R" "./nix-nar/bin/nix-nar ls linux.nar / -R" "./narz/bin/narz ls linux.nar / -r"
Benchmark 1 (3 runs): ./nix/bin/nix nar ls linux.nar / -R
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time          2.69s  Â± 9.07ms                              2.68s  â€¦ 2.70s                                     0 ( 0%)        0%
  peak_rss           3.75GB Â±  169KB                              3.75GB â€¦ 3.75GB                                    0 ( 0%)        0%
  cpu_cycles         2.86G  Â± 29.8M                               2.83G  â€¦ 2.89G                                     0 ( 0%)        0%
  instructions       1.83G  Â±  355K                               1.83G  â€¦ 1.83G                                     0 ( 0%)        0%
  cache_references    137M  Â± 3.08M                                135M  â€¦  141M                                     0 ( 0%)        0%
  cache_misses       73.8M  Â±  104K                               73.7M  â€¦ 73.9M                                     0 ( 0%)        0%
  branch_misses      4.61M  Â±  762K                               4.03M  â€¦ 5.48M                                     0 ( 0%)        0%
Benchmark 2 (3 runs): ./lix/bin/nix nar ls linux.nar / -R
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time          2.83s  Â± 10.4ms                              2.82s  â€¦ 2.84s                                     0 ( 0%)        ðŸ’©+  5.1% Â±  0.8%
  peak_rss           3.73GB Â±  184KB                              3.73GB â€¦ 3.73GB                                    0 ( 0%)          -  0.4% Â±  0.0%
  cpu_cycles         3.36G  Â± 46.1M                               3.33G  â€¦ 3.41G                                     0 ( 0%)        ðŸ’©+ 17.6% Â±  3.1%
  instructions       3.01G  Â±  857K                               3.01G  â€¦ 3.01G                                     0 ( 0%)        ðŸ’©+ 64.6% Â±  0.1%
  cache_references    128M  Â±  171K                                128M  â€¦  129M                                     0 ( 0%)        âš¡-  6.3% Â±  3.6%
  cache_misses       71.2M  Â±  133K                               71.2M  â€¦ 71.4M                                     0 ( 0%)        âš¡-  3.5% Â±  0.4%
  branch_misses      5.92M  Â±  862K                               5.39M  â€¦ 6.92M                                     0 ( 0%)          + 28.5% Â± 40.0%
Benchmark 3 (41 runs): ./narser/bin/narser ls linux.nar / -R
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time           124ms Â± 1.38ms                               122ms â€¦  128ms                                    4 (10%)        âš¡- 95.4% Â±  0.1%
  peak_rss           33.3MB Â± 20.5KB                              33.2MB â€¦ 33.3MB                                    1 ( 2%)        âš¡- 99.1% Â±  0.0%
  cpu_cycles          134M  Â± 1.95M                                131M  â€¦  141M                                     8 (20%)        âš¡- 95.3% Â±  0.3%
  instructions        271M  Â±  213                                 271M  â€¦  271M                                     2 ( 5%)        âš¡- 85.2% Â±  0.0%
  cache_references   1.87M  Â± 18.7K                               1.83M  â€¦ 1.92M                                     0 ( 0%)        âš¡- 98.6% Â±  0.6%
  cache_misses        820K  Â± 12.5K                                809K  â€¦  875K                                     4 (10%)        âš¡- 98.9% Â±  0.0%
  branch_misses       497K  Â± 11.0K                                491K  â€¦  529K                                     8 (20%)        âš¡- 89.2% Â±  4.4%
Benchmark 4 (8 runs): ./nix-nar/bin/nix-nar ls linux.nar / -R
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time           630ms Â± 2.63ms                               625ms â€¦  633ms                                    0 ( 0%)        âš¡- 76.6% Â±  0.3%
  peak_rss           13.9MB Â± 67.3KB                              13.7MB â€¦ 13.9MB                                    1 (13%)        âš¡- 99.6% Â±  0.0%
  cpu_cycles         1.13G  Â± 7.06M                               1.11G  â€¦ 1.13G                                     1 (13%)        âš¡- 60.6% Â±  0.8%
  instructions       1.95G  Â± 85.1K                               1.95G  â€¦ 1.95G                                     0 ( 0%)        ðŸ’©+  6.7% Â±  0.0%
  cache_references   11.9M  Â± 2.05M                               9.22M  â€¦ 16.1M                                     3 (38%)        âš¡- 91.3% Â±  2.6%
  cache_misses        178K  Â± 12.8K                                158K  â€¦  193K                                     0 ( 0%)        âš¡- 99.8% Â±  0.1%
  branch_misses      1.66M  Â± 94.2K                               1.48M  â€¦ 1.80M                                     0 ( 0%)        âš¡- 63.9% Â± 12.2%
Benchmark 5 (3 runs): ./narz/bin/narz ls linux.nar / -r
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time          3.81s  Â± 4.86ms                              3.80s  â€¦ 3.81s                                     0 ( 0%)        ðŸ’©+ 41.5% Â±  0.6%
  peak_rss           1.84GB Â± 8.53KB                              1.84GB â€¦ 1.84GB                                    0 ( 0%)        âš¡- 51.0% Â±  0.0%
  cpu_cycles          959M  Â± 3.19M                                956M  â€¦  961M                                     0 ( 0%)        âš¡- 66.4% Â±  1.7%
  instructions        945M  Â±  146                                 945M  â€¦  945M                                     0 ( 0%)        âš¡- 48.3% Â±  0.0%
  cache_references   5.47M  Â±  126K                               5.34M  â€¦ 5.60M                                     0 ( 0%)        âš¡- 96.0% Â±  3.6%
  cache_misses        852K  Â± 5.80K                                845K  â€¦  856K                                     0 ( 0%)        âš¡- 98.8% Â±  0.2%
  branch_misses      2.11M  Â± 21.4K                               2.09M  â€¦ 2.13M                                     0 ( 0%)        âš¡- 54.3% Â± 26.5%
poop "./nix/bin/nix nar ls linux.nar / -Rl" "./lix/bin/nix nar ls linux.nar / -Rl" "./narser/bin/narser ls linux.nar / -Rl" "./nix-nar/bin/nix-nar ls linux.nar / -Rl" "./narz/bin/narz ls linux.nar / -rl"
Benchmark 1 (3 runs): ./nix/bin/nix nar ls linux.nar / -Rl
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time          2.76s  Â± 19.2ms                              2.75s  â€¦ 2.79s                                     0 ( 0%)        0%
  peak_rss           3.75GB Â±  153KB                              3.75GB â€¦ 3.75GB                                    0 ( 0%)        0%
  cpu_cycles         3.13G  Â± 22.7M                               3.11G  â€¦ 3.15G                                     0 ( 0%)        0%
  instructions       2.52G  Â±  810K                               2.52G  â€¦ 2.52G                                     0 ( 0%)        0%
  cache_references    138M  Â± 1.55M                                136M  â€¦  139M                                     0 ( 0%)        0%
  cache_misses       73.7M  Â±  243K                               73.4M  â€¦ 73.9M                                     0 ( 0%)        0%
  branch_misses      4.71M  Â±  429K                               4.39M  â€¦ 5.20M                                     0 ( 0%)        0%
Benchmark 2 (3 runs): ./lix/bin/nix nar ls linux.nar / -Rl
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time          2.94s  Â± 10.6ms                              2.93s  â€¦ 2.95s                                     0 ( 0%)        ðŸ’©+  6.4% Â±  1.3%
  peak_rss           3.73GB Â±  106KB                              3.73GB â€¦ 3.73GB                                    0 ( 0%)          -  0.4% Â±  0.0%
  cpu_cycles         3.77G  Â± 56.0M                               3.73G  â€¦ 3.84G                                     0 ( 0%)        ðŸ’©+ 20.8% Â±  3.1%
  instructions       3.89G  Â±  392K                               3.89G  â€¦ 3.89G                                     0 ( 0%)        ðŸ’©+ 54.5% Â±  0.1%
  cache_references    131M  Â± 1.02M                                130M  â€¦  132M                                     0 ( 0%)        âš¡-  5.4% Â±  2.2%
  cache_misses       71.4M  Â± 45.2K                               71.3M  â€¦ 71.4M                                     0 ( 0%)        âš¡-  3.2% Â±  0.5%
  branch_misses      7.00M  Â± 1.32M                               6.13M  â€¦ 8.52M                                     0 ( 0%)        ðŸ’©+ 48.6% Â± 47.3%
Benchmark 3 (40 runs): ./narser/bin/narser ls linux.nar / -Rl
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time           126ms Â±  872us                               125ms â€¦  130ms                                    2 ( 5%)        âš¡- 95.4% Â±  0.2%
  peak_rss           33.3MB Â± 20.7KB                              33.2MB â€¦ 33.3MB                                    1 ( 3%)        âš¡- 99.1% Â±  0.0%
  cpu_cycles          144M  Â± 1.74M                                140M  â€¦  151M                                     4 (10%)        âš¡- 95.4% Â±  0.2%
  instructions        310M  Â±  202                                 310M  â€¦  310M                                     0 ( 0%)        âš¡- 87.7% Â±  0.0%
  cache_references   1.99M  Â± 18.2K                               1.93M  â€¦ 2.03M                                     1 ( 3%)        âš¡- 98.6% Â±  0.3%
  cache_misses        824K  Â± 13.0K                                761K  â€¦  849K                                     3 ( 8%)        âš¡- 98.9% Â±  0.1%
  branch_misses       544K  Â± 4.76K                                540K  â€¦  561K                                     7 (18%)        âš¡- 88.4% Â±  2.4%
Benchmark 4 (8 runs): ./nix-nar/bin/nix-nar ls linux.nar / -Rl
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time           664ms Â± 5.58ms                               655ms â€¦  670ms                                    0 ( 0%)        âš¡- 76.0% Â±  0.6%
  peak_rss           13.9MB Â± 34.6KB                              13.9MB â€¦ 14.0MB                                    0 ( 0%)        âš¡- 99.6% Â±  0.0%
  cpu_cycles         1.23G  Â± 10.7M                               1.22G  â€¦ 1.25G                                     0 ( 0%)        âš¡- 60.5% Â±  0.7%
  instructions       2.21G  Â± 78.9K                               2.21G  â€¦ 2.21G                                     0 ( 0%)        âš¡- 12.2% Â±  0.0%
  cache_references   11.5M  Â± 1.97M                               9.35M  â€¦ 15.3M                                     0 ( 0%)        âš¡- 91.6% Â±  2.1%
  cache_misses        294K  Â± 14.2K                                273K  â€¦  313K                                     0 ( 0%)        âš¡- 99.6% Â±  0.2%
  branch_misses      1.95M  Â±  215K                               1.72M  â€¦ 2.20M                                     0 ( 0%)        âš¡- 58.5% Â±  9.0%
Benchmark 5 (3 runs): ./narz/bin/narz ls linux.nar / -rl
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time          5.01s  Â± 2.59ms                              5.01s  â€¦ 5.02s                                     0 ( 0%)        ðŸ’©+ 81.4% Â±  1.1%
  peak_rss           1.84GB Â± 11.8KB                              1.84GB â€¦ 1.84GB                                    0 ( 0%)        âš¡- 51.0% Â±  0.0%
  cpu_cycles         1.14G  Â± 1.46M                               1.14G  â€¦ 1.14G                                     0 ( 0%)        âš¡- 63.5% Â±  1.2%
  instructions       1.11G  Â±  147                                1.11G  â€¦ 1.11G                                     0 ( 0%)        âš¡- 55.9% Â±  0.1%
  cache_references   6.04M  Â±  229K                               5.81M  â€¦ 6.27M                                     0 ( 0%)        âš¡- 95.6% Â±  1.8%
  cache_misses        864K  Â± 11.3K                                857K  â€¦  877K                                     0 ( 0%)        âš¡- 98.8% Â±  0.5%
  branch_misses      2.57M  Â± 31.7K                               2.53M  â€¦ 2.59M                                     0 ( 0%)        âš¡- 45.5% Â± 14.6%
poop "./nix/bin/nix nar ls linux.nar / -l" "./lix/bin/nix nar ls linux.nar / -l" "./narser/bin/narser ls linux.nar / -l" "./nix-nar/bin/nix-nar ls linux.nar / -l" "./narz/bin/narz ls linux.nar / -l"
Benchmark 1 (3 runs): ./nix/bin/nix nar ls linux.nar / -l
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time          2.47s  Â± 13.7ms                              2.45s  â€¦ 2.48s                                     0 ( 0%)        0%
  peak_rss           3.75GB Â± 26.9KB                              3.75GB â€¦ 3.75GB                                    0 ( 0%)        0%
  cpu_cycles         2.45G  Â± 16.2M                               2.44G  â€¦ 2.47G                                     0 ( 0%)        0%
  instructions       1.13G  Â± 91.3K                               1.13G  â€¦ 1.13G                                     0 ( 0%)        0%
  cache_references    127M  Â± 3.67M                                124M  â€¦  131M                                     0 ( 0%)        0%
  cache_misses       71.2M  Â± 82.0K                               71.1M  â€¦ 71.3M                                     0 ( 0%)        0%
  branch_misses      1.96M  Â±  378K                               1.74M  â€¦ 2.40M                                     0 ( 0%)        0%
Benchmark 2 (3 runs): ./lix/bin/nix nar ls linux.nar / -l
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time          2.58s  Â± 10.2ms                              2.56s  â€¦ 2.58s                                     0 ( 0%)        ðŸ’©+  4.5% Â±  1.1%
  peak_rss           3.73GB Â±  105KB                              3.73GB â€¦ 3.73GB                                    0 ( 0%)          -  0.4% Â±  0.0%
  cpu_cycles         2.89G  Â± 11.4M                               2.87G  â€¦ 2.89G                                     0 ( 0%)        ðŸ’©+ 17.7% Â±  1.3%
  instructions       2.16G  Â± 2.72K                               2.16G  â€¦ 2.16G                                     0 ( 0%)        ðŸ’©+ 91.6% Â±  0.0%
  cache_references    129M  Â± 3.69M                                127M  â€¦  134M                                     0 ( 0%)          +  1.9% Â±  6.6%
  cache_misses       70.2M  Â± 78.7K                               70.1M  â€¦ 70.3M                                     0 ( 0%)        âš¡-  1.5% Â±  0.3%
  branch_misses      4.00M  Â±  147K                               3.88M  â€¦ 4.17M                                     0 ( 0%)        ðŸ’©+104.0% Â± 33.1%
Benchmark 3 (50 runs): ./narser/bin/narser ls linux.nar / -l
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time           101ms Â± 1.69ms                              99.1ms â€¦  107ms                                    5 (10%)        âš¡- 95.9% Â±  0.2%
  peak_rss           33.3MB Â± 31.4KB                              33.2MB â€¦ 33.3MB                                    3 ( 6%)        âš¡- 99.1% Â±  0.0%
  cpu_cycles         53.0M  Â±  742K                               52.5M  â€¦ 55.5M                                     6 (12%)        âš¡- 97.8% Â±  0.2%
  instructions       97.9M  Â±  194                                97.9M  â€¦ 97.9M                                     0 ( 0%)        âš¡- 91.3% Â±  0.0%
  cache_references    853K  Â± 15.9K                                825K  â€¦  903K                                     1 ( 2%)        âš¡- 99.3% Â±  0.7%
  cache_misses       11.6K  Â± 1.39K                               9.92K  â€¦ 16.9K                                     6 (12%)        âš¡-100.0% Â±  0.0%
  branch_misses       346K  Â± 7.01K                                342K  â€¦  372K                                     9 (18%)        âš¡- 82.4% Â±  4.6%
Benchmark 4 (10 runs): ./nix-nar/bin/nix-nar ls linux.nar / -l
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time           516ms Â± 2.63ms                               511ms â€¦  519ms                                    0 ( 0%)        âš¡- 79.1% Â±  0.4%
  peak_rss           2.42MB Â± 52.8KB                              2.35MB â€¦ 2.51MB                                    0 ( 0%)        âš¡- 99.9% Â±  0.0%
  cpu_cycles          946M  Â± 7.68M                                931M  â€¦  954M                                     0 ( 0%)        âš¡- 61.4% Â±  0.6%
  instructions       1.50G  Â± 89.2K                               1.50G  â€¦ 1.50G                                     0 ( 0%)        ðŸ’©+ 33.2% Â±  0.0%
  cache_references   11.1M  Â± 5.03M                               5.50M  â€¦ 22.8M                                     0 ( 0%)        âš¡- 91.3% Â±  5.5%
  cache_misses       58.7K  Â± 11.5K                               46.7K  â€¦ 82.1K                                     0 ( 0%)        âš¡- 99.9% Â±  0.1%
  branch_misses      1.30M  Â±  157K                                981K  â€¦ 1.44M                                     1 (10%)        âš¡- 34.0% Â± 15.9%
Benchmark 5 (3 runs): ./narz/bin/narz ls linux.nar / -l
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time          3.64s  Â± 6.70ms                              3.63s  â€¦ 3.64s                                     0 ( 0%)        ðŸ’©+ 47.5% Â±  1.0%
  peak_rss           1.84GB Â±    0                                1.84GB â€¦ 1.84GB                                    0 ( 0%)        âš¡- 51.0% Â±  0.0%
  cpu_cycles          873M  Â± 2.82M                                870M  â€¦  876M                                     0 ( 0%)        âš¡- 64.4% Â±  1.1%
  instructions        864M  Â±  183                                 864M  â€¦  864M                                     0 ( 0%)        âš¡- 23.5% Â±  0.0%
  cache_references   4.38M  Â± 70.9K                               4.33M  â€¦ 4.46M                                     0 ( 0%)        âš¡- 96.6% Â±  4.6%
  cache_misses        116K  Â± 5.11K                                112K  â€¦  122K                                     0 ( 0%)        âš¡- 99.8% Â±  0.2%
  branch_misses      1.83M  Â± 75.5K                               1.76M  â€¦ 1.91M                                     0 ( 0%)          -  6.9% Â± 31.5%
poop "./nix/bin/nix nar cat linux.nar /README" "./lix/bin/nix nar cat linux.nar /README" "./narser/bin/narser cat linux.nar /README" "./narser/bin/narser cat linux.nar /README -L" "./nix-nar/bin/nix-nar cat linux.nar /README " "./narz/bin/narz cat linux.nar /README"
Benchmark 1 (3 runs): ./nix/bin/nix nar cat linux.nar /README
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time          2.44s  Â± 6.16ms                              2.43s  â€¦ 2.44s                                     0 ( 0%)        0%
  peak_rss           3.73GB Â± 98.7KB                              3.73GB â€¦ 3.73GB                                    0 ( 0%)        0%
  cpu_cycles         2.41G  Â± 14.5M                               2.39G  â€¦ 2.42G                                     0 ( 0%)        0%
  instructions       1.06G  Â±  566K                               1.06G  â€¦ 1.06G                                     0 ( 0%)        0%
  cache_references    124M  Â±  156K                                123M  â€¦  124M                                     0 ( 0%)        0%
  cache_misses       70.1M  Â± 79.4K                               70.0M  â€¦ 70.1M                                     0 ( 0%)        0%
  branch_misses      1.91M  Â±  343K                               1.55M  â€¦ 2.23M                                     0 ( 0%)        0%
Benchmark 2 (3 runs): ./lix/bin/nix nar cat linux.nar /README
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time          2.57s  Â± 5.72ms                              2.56s  â€¦ 2.57s                                     0 ( 0%)        ðŸ’©+  5.3% Â±  0.6%
  peak_rss           3.73GB Â± 26.3KB                              3.73GB â€¦ 3.73GB                                    0 ( 0%)          +  0.2% Â±  0.0%
  cpu_cycles         2.87G  Â± 6.33M                               2.87G  â€¦ 2.88G                                     0 ( 0%)        ðŸ’©+ 19.4% Â±  1.1%
  instructions       2.17G  Â± 3.49K                               2.17G  â€¦ 2.17G                                     0 ( 0%)        ðŸ’©+105.6% Â±  0.1%
  cache_references    127M  Â±  329K                                127M  â€¦  128M                                     0 ( 0%)        ðŸ’©+  3.0% Â±  0.5%
  cache_misses       70.5M  Â±  195K                               70.4M  â€¦ 70.8M                                     0 ( 0%)          +  0.7% Â±  0.5%
  branch_misses      3.78M  Â± 54.7K                               3.73M  â€¦ 3.83M                                     0 ( 0%)        ðŸ’©+ 98.6% Â± 29.2%
Benchmark 3 (554 runs): ./narser/bin/narser cat linux.nar /README
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time          9.00ms Â±  398us                              8.85ms â€¦ 14.1ms                                   26 ( 5%)        âš¡- 99.6% Â±  0.0%
  peak_rss           1.04MB Â± 8.01KB                               856KB â€¦ 1.04MB                                    1 ( 0%)        âš¡-100.0% Â±  0.0%
  cpu_cycles         4.83M  Â±  172K                               4.76M  â€¦ 7.19M                                    30 ( 5%)        âš¡- 99.8% Â±  0.0%
  instructions       9.37M  Â± 3.64                                9.37M  â€¦ 9.37M                                    35 ( 6%)        âš¡- 99.1% Â±  0.0%
  cache_references   18.1K  Â± 1.36K                               15.6K  â€¦ 37.0K                                    22 ( 4%)        âš¡-100.0% Â±  0.0%
  cache_misses       1.66K  Â±  411                                1.34K  â€¦ 6.85K                                    24 ( 4%)        âš¡-100.0% Â±  0.0%
  branch_misses      44.7K  Â± 1.71K                               44.0K  â€¦ 72.5K                                    21 ( 4%)        âš¡- 97.7% Â±  1.2%
Benchmark 4 (5 runs): ./narser/bin/narser cat linux.nar /README -L
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time          1.09s  Â± 1.42ms                              1.09s  â€¦ 1.10s                                     0 ( 0%)        âš¡- 55.1% Â±  0.3%
  peak_rss           1.85GB Â±    0                                1.85GB â€¦ 1.85GB                                    0 ( 0%)        âš¡- 50.2% Â±  0.0%
  cpu_cycles          328M  Â±  757K                                327M  â€¦  328M                                     0 ( 0%)        âš¡- 86.4% Â±  0.6%
  instructions        346M  Â±  108                                 346M  â€¦  346M                                     0 ( 0%)        âš¡- 67.3% Â±  0.1%
  cache_references   9.32M  Â± 90.0K                               9.20M  â€¦ 9.40M                                     0 ( 0%)        âš¡- 92.5% Â±  0.2%
  cache_misses       1.66M  Â± 5.81K                               1.66M  â€¦ 1.67M                                     0 ( 0%)        âš¡- 97.6% Â±  0.1%
  branch_misses       694K  Â± 1.87K                                692K  â€¦  697K                                     0 ( 0%)        âš¡- 63.6% Â± 18.6%
Benchmark 5 (66 runs): ./nix-nar/bin/nix-nar cat linux.nar /README
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time          75.8ms Â±  954us                              74.9ms â€¦ 80.5ms                                    3 ( 5%)        âš¡- 96.9% Â±  0.1%
  peak_rss           2.40MB Â± 58.1KB                              2.29MB â€¦ 2.56MB                                    1 ( 2%)        âš¡- 99.9% Â±  0.0%
  cpu_cycles          113M  Â± 2.37M                                112M  â€¦  127M                                     5 ( 8%)        âš¡- 95.3% Â±  0.2%
  instructions        164M  Â± 9.73K                                164M  â€¦  164M                                     0 ( 0%)        âš¡- 84.5% Â±  0.0%
  cache_references   1.18M  Â±  472K                                526K  â€¦ 3.08M                                     2 ( 3%)        âš¡- 99.0% Â±  0.4%
  cache_misses       21.4K  Â± 2.74K                               19.1K  â€¦ 32.6K                                     7 (11%)        âš¡-100.0% Â±  0.0%
  branch_misses       125K  Â± 53.3K                                107K  â€¦  459K                                     5 ( 8%)        âš¡- 93.4% Â±  4.9%
Benchmark 6 (3 runs): ./narz/bin/narz cat linux.nar /README
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time          3.62s  Â± 8.13ms                              3.62s  â€¦ 3.63s                                     0 ( 0%)        ðŸ’©+ 48.6% Â±  0.7%
  peak_rss           1.84GB Â±    0                                1.84GB â€¦ 1.84GB                                    0 ( 0%)        âš¡- 50.7% Â±  0.0%
  cpu_cycles          872M  Â± 3.95M                                869M  â€¦  876M                                     0 ( 0%)        âš¡- 63.8% Â±  1.0%
  instructions        864M  Â± 11.4K                                864M  â€¦  864M                                     0 ( 0%)        âš¡- 18.3% Â±  0.1%
  cache_references   4.37M  Â± 58.6K                               4.31M  â€¦ 4.42M                                     0 ( 0%)        âš¡- 96.5% Â±  0.2%
  cache_misses        113K  Â± 2.05K                                112K  â€¦  115K                                     0 ( 0%)        âš¡- 99.8% Â±  0.2%
  branch_misses      1.80M  Â± 15.4K                               1.78M  â€¦ 1.81M                                     0 ( 0%)          -  5.7% Â± 28.9%
poop "./nix/bin/nix nar cat linux.nar /virt/lib/irqbypass.c" "./lix/bin/nix nar cat linux.nar /virt/lib/irqbypass.c" "./narser/bin/narser cat linux.nar /virt/lib/irqbypass.c" "./narser/bin/narser cat linux.nar /virt/lib/irqbypass.c -L" "./nix-nar/bin/nix-nar cat linux.nar /virt/lib/irqbypass.c " "./narz/bin/narz cat linux.nar /virt/lib/irqbypass.c"
Benchmark 1 (3 runs): ./nix/bin/nix nar cat linux.nar /virt/lib/irqbypass.c
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time          2.43s  Â± 7.93ms                              2.42s  â€¦ 2.43s                                     0 ( 0%)        0%
  peak_rss           3.73GB Â±  211KB                              3.73GB â€¦ 3.73GB                                    0 ( 0%)        0%
  cpu_cycles         2.39G  Â± 4.31M                               2.38G  â€¦ 2.39G                                     0 ( 0%)        0%
  instructions       1.06G  Â±  191K                               1.06G  â€¦ 1.06G                                     0 ( 0%)        0%
  cache_references    125M  Â± 3.33M                                123M  â€¦  129M                                     0 ( 0%)        0%
  cache_misses       70.1M  Â±  137K                               70.0M  â€¦ 70.2M                                     0 ( 0%)        0%
  branch_misses      1.63M  Â±  172K                               1.53M  â€¦ 1.83M                                     0 ( 0%)        0%
Benchmark 2 (3 runs): ./lix/bin/nix nar cat linux.nar /virt/lib/irqbypass.c
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time          2.59s  Â± 13.8ms                              2.58s  â€¦ 2.60s                                     0 ( 0%)        ðŸ’©+  6.6% Â±  1.1%
  peak_rss           3.73GB Â± 67.7KB                              3.73GB â€¦ 3.73GB                                    0 ( 0%)          +  0.2% Â±  0.0%
  cpu_cycles         2.91G  Â± 11.8M                               2.90G  â€¦ 2.93G                                     0 ( 0%)        ðŸ’©+ 21.9% Â±  0.8%
  instructions       2.19G  Â± 6.71K                               2.19G  â€¦ 2.19G                                     0 ( 0%)        ðŸ’©+107.6% Â±  0.0%
  cache_references    128M  Â±  849K                                127M  â€¦  129M                                     0 ( 0%)          +  2.3% Â±  4.4%
  cache_misses       71.4M  Â±  244K                               71.1M  â€¦ 71.6M                                     0 ( 0%)        ðŸ’©+  1.9% Â±  0.6%
  branch_misses      4.11M  Â±  243K                               3.96M  â€¦ 4.39M                                     0 ( 0%)        ðŸ’©+151.4% Â± 29.3%
Benchmark 3 (62 runs): ./narser/bin/narser cat linux.nar /virt/lib/irqbypass.c
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time          81.5ms Â± 1.73ms                              80.5ms â€¦ 88.4ms                                    8 (13%)        âš¡- 96.6% Â±  0.1%
  peak_rss           1.04MB Â±    0                                1.04MB â€¦ 1.04MB                                    0 ( 0%)        âš¡-100.0% Â±  0.0%
  cpu_cycles         39.6M  Â±  793K                               39.2M  â€¦ 45.2M                                     4 ( 6%)        âš¡- 98.3% Â±  0.1%
  instructions       80.7M  Â± 8.86                                80.7M  â€¦ 80.7M                                     3 ( 5%)        âš¡- 92.4% Â±  0.0%
  cache_references   67.4K  Â± 7.70K                               55.0K  â€¦  109K                                     5 ( 8%)        âš¡- 99.9% Â±  0.6%
  cache_misses       4.06K  Â± 1.30K                               3.21K  â€¦ 12.7K                                     6 (10%)        âš¡-100.0% Â±  0.0%
  branch_misses       344K  Â± 6.34K                                341K  â€¦  391K                                     4 ( 6%)        âš¡- 78.9% Â±  2.3%
Benchmark 4 (5 runs): ./narser/bin/narser cat linux.nar /virt/lib/irqbypass.c -L
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time          1.10s  Â± 2.69ms                              1.10s  â€¦ 1.10s                                     0 ( 0%)        âš¡- 54.8% Â±  0.4%
  peak_rss           1.85GB Â±    0                                1.85GB â€¦ 1.85GB                                    0 ( 0%)        âš¡- 50.2% Â±  0.0%
  cpu_cycles          329M  Â± 1.04M                                327M  â€¦  330M                                     0 ( 0%)        âš¡- 86.2% Â±  0.2%
  instructions        346M  Â± 87.4                                 346M  â€¦  346M                                     0 ( 0%)        âš¡- 67.3% Â±  0.0%
  cache_references   9.17M  Â±  152K                               8.97M  â€¦ 9.34M                                     0 ( 0%)        âš¡- 92.7% Â±  2.7%
  cache_misses       1.66M  Â± 3.11K                               1.66M  â€¦ 1.66M                                     0 ( 0%)        âš¡- 97.6% Â±  0.2%
  branch_misses       705K  Â± 13.3K                                690K  â€¦  722K                                     0 ( 0%)        âš¡- 56.8% Â± 10.9%
Benchmark 5 (11 runs): ./nix-nar/bin/nix-nar cat linux.nar /virt/lib/irqbypass.c
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time           499ms Â± 1.86ms                               496ms â€¦  502ms                                    0 ( 0%)        âš¡- 79.4% Â±  0.2%
  peak_rss           2.40MB Â± 55.2KB                              2.33MB â€¦ 2.49MB                                    0 ( 0%)        âš¡- 99.9% Â±  0.0%
  cpu_cycles          889M  Â± 4.51M                                883M  â€¦  896M                                     0 ( 0%)        âš¡- 62.8% Â±  0.3%
  instructions       1.37G  Â± 79.8K                               1.37G  â€¦ 1.37G                                     0 ( 0%)        ðŸ’©+ 30.0% Â±  0.0%
  cache_references   8.73M  Â± 5.25M                               3.89M  â€¦ 20.4M                                     0 ( 0%)        âš¡- 93.0% Â±  5.7%
  cache_misses       45.9K  Â± 7.56K                               37.2K  â€¦ 58.9K                                     0 ( 0%)        âš¡- 99.9% Â±  0.1%
  branch_misses      1.08M  Â±  142K                                916K  â€¦ 1.30M                                     0 ( 0%)        âš¡- 34.1% Â± 12.8%
Benchmark 6 (3 runs): ./narz/bin/narz cat linux.nar /virt/lib/irqbypass.c
  measurement          mean Â± Ïƒ            min â€¦ max           outliers         delta
  wall_time          3.62s  Â± 5.40ms                              3.61s  â€¦ 3.62s                                     0 ( 0%)        ðŸ’©+ 48.9% Â±  0.6%
  peak_rss           1.84GB Â± 75.7KB                              1.84GB â€¦ 1.84GB                                    0 ( 0%)        âš¡- 50.7% Â±  0.0%
  cpu_cycles          872M  Â± 1.62M                                871M  â€¦  873M                                     0 ( 0%)        âš¡- 63.5% Â±  0.3%
  instructions        864M  Â± 11.5K                                864M  â€¦  864M                                     0 ( 0%)        âš¡- 18.2% Â±  0.0%
  cache_references   4.50M  Â±  530K                               4.02M  â€¦ 5.07M                                     0 ( 0%)        âš¡- 96.4% Â±  4.3%
  cache_misses        112K  Â± 3.36K                                109K  â€¦  115K                                     0 ( 0%)        âš¡- 99.8% Â±  0.3%
  branch_misses      1.73M  Â± 23.3K                               1.71M  â€¦ 1.76M                                     0 ( 0%)          +  6.2% Â± 17.1%

./nix/bin/nix-store --restore out < linux.nar
cmp <(./nix/bin/nix nar pack out) linux.nar
rm -rf out

./lix/bin/nix-store --restore out < linux.nar
cmp <(./nix/bin/nix nar pack out) linux.nar
rm -rf out

./narser/bin/narser unpack linux.nar out
cmp <(./nix/bin/nix nar pack out) linux.nar || exit 1
rm -rf out

rm -rf out ; time ./nix/bin/nix-store --restore out < linux.nar

real	0m1.502s
user	0m0.320s
sys	0m1.166s
rm -rf out ; time ./nix/bin/nix-store --restore out < linux.nar

real	0m1.484s
user	0m0.339s
sys	0m1.140s
rm -rf out ; time ./nix/bin/nix-store --restore out < linux.nar

real	0m1.485s
user	0m0.326s
sys	0m1.153s

rm -rf out ; time ./lix/bin/nix-store --restore out < linux.nar

real	0m1.687s
user	0m0.514s
sys	0m1.166s
rm -rf out ; time ./lix/bin/nix-store --restore out < linux.nar

real	0m1.668s
user	0m0.471s
sys	0m1.191s
rm -rf out ; time ./lix/bin/nix-store --restore out < linux.nar

real	0m1.686s
user	0m0.492s
sys	0m1.186s

rm -rf out ; time ./narser/bin/narser unpack linux.nar out

real	0m1.320s
user	0m0.196s
sys	0m1.119s
rm -rf out ; time ./narser/bin/narser unpack linux.nar out

real	0m1.328s
user	0m0.223s
sys	0m1.099s
rm -rf out ; time ./narser/bin/narser unpack linux.nar out

real	0m1.337s
user	0m0.213s
sys	0m1.117s
